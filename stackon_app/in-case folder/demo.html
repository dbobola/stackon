<!-- ========================== POPULAR STACKS ====================================== -->
<section class="section top-stacks">
    <div class="">
        <h2 class="h2 top-stacks-title">
          Browse Stacks
        </h2>
        <div id="filters" class="button-group stack__filters">  
          <button class="button is-checked stack__item" data-filter=".Public">Available Stacks</button>
          <button class="button stack__item" data-filter=".Owned">Owned Stacks</button>
          <button class="button stack__item" data-filter=".Borrowed">Borrowed Stacks</button>
        </div>

        <div class="stacks_list ">
          <div class="stacks_container mint-stacks_container transition Owned">
            <h3 class="mint-stack-title">Mint Stack</h3>
            <div class="stacks-card">
              <div class="stacks-card-number negative">0%</div>
              <div class="stack-items">
                <div class="stack-item">
                  <div class="stack-item-card">
                    <div class="stacks-add">
                      <h1 class="stacks-add-icon"> + </h1>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="stack-profile ">
                <div class="stack-profile-top">
                  <h3 class="stack-name">Add Title</h3>
                  <div class="stack-prices">
                    <h4 class="stack-price-eth">- ETH</h4>
                    <h6 class="stack-price-usd">$ -</h6>
                  </div>
                </div>
                <p class="stack-description">Add Description</p>
            </div>
          </div>
          {% for stack in stacks %}
          <div class="stacks_container transition public {{stack.status}}">
          <div class="stacks-card">
            
            {% if stack.stack_change >= 0.0 %}
            <h5 class="stacks-card-number positive">+{{ stack.stack_change }}%</h5>
            {% elif stack.stack_change <= 0.0 %}
            <h5 class="stacks-card-number negative">{{ stack.stack_change }}%</h5>
            {% else %}
            <h5 class="stacks-card-number neutral">{{ stack.stack_change }}%</h5>
            {% endif %}
                
            <div class="stack-items">
              {% for asset in stack.get_assets %}
              {% if forloop.counter <= 6 %}
              <div class="stack-item">
                <div class="stack-item-card">
                  <div class="stack-item-head">
                      <img class="stack-avatar" src="{% static 'images/' %}{{ asset.image }}" alt="">
                      <h3 class="stack-item-name">{{ asset.short_name }}</h3>
                  </div>   
                  <div class="stack-item-info">
                    <h5 class="stack-item-volume">{{asset.asset_value}} ETH</h5>
                   
                    {% if asset.next_1d_percent >= 0.0 %}
                    <h5 class="stack-item-change positive">+{{ asset.next_1d_percent }}%</h5>
                    {% elif asset.next_1d_percent <= 0.0 %}
                    <h5 class="stack-item-change negative">{{ asset.next_1d_percent }}%</h5>
                    {% else %}
                    <h5 class="stack-item-change neutral">{{ asset.next_1d_percent }}%</h5>
                    {% endif %}
                  </div>
                </div>
                
              </div>
              {% endif %}
              {% if forloop.counter == 6 %}
                {% if forloop.revcounter0 > 0 %}
                  <p class="stack-remainder">+{{ forloop.revcounter0 }}</p>
                {% endif %}
              {% endif %}
            
              {% endfor %}
            
            </div>
            <button class="place-bid-btn update-stack">Update</button>
          </div>
          <div class="stack-profile ">
              <div class="stack-profile-top">
                <h3 class="stack-name">{{stack.name}}</h3>
                <div class="stack-prices">
                  <h4 class="stack-price-eth">{{stack.price_eth}}ETH</h4>
                  <h6 class="stack-price-usd">${{stack.price_usd}}</h6>
                </div>
              </div>
              <p class="stack-description">{{stack.description}}</p>
            </div>
        </div>
          {% endfor %}
          
        </div>
    </div>
  </section>


  <script>
    //external js: isotope.pkgd.js

    // init Isotope
    var $stacks_list = $('.stacks_list').isotope({
      itemSelector: '.stacks_container',
      layoutMode: 'fitRows',
      
      masonry: {
        columnWidth: '.stacks_container'
      },
      getSortData: {
        name: '.name',
        symbol: '.symbol',
        number: '.number parseInt',
        category: '[data-category]',
        weight: function( itemElem ) {
          var weight = $( itemElem ).find('.weight').text();
          return parseFloat( weight.replace( /[\(\)]/g, '') );
        }
      }
    });

    // filter functions
    var filterFns = {
      // show if number is greater than 50
      numberGreaterThan50: function() {
        var number = $(this).find('.number').text();
        return parseInt( number, 10 ) > 50;
      },
      // show if name ends with -ium
      ium: function() {
        var name = $(this).find('.name').text();
        return name.match( /ium$/ );
      }
    };

    // bind filter button click
    $('#filters').on( 'click', 'button', function() {
      var filterValue = $( this ).attr('data-filter');
      // use filterFn if matches value
      filterValue = filterFns[ filterValue ] || filterValue;
      $stacks_list.isotope({ filter: filterValue });
    });

    // bind sort button click
    $('#sorts').on( 'click', 'button', function() {
      var sortByValue = $(this).attr('data-sort-by');
      $stacks_list.isotope({ sortBy: sortByValue });
    });

    // change is-checked class on buttons
    $('.button-group').each( function( i, buttonGroup ) {
      var $buttonGroup = $( buttonGroup );
      $buttonGroup.on( 'click', 'button', function() {
        $buttonGroup.find('.is-checked').removeClass('is-checked');
        $( this ).addClass('is-checked');
      });
    });
      

  </script>



<section class="hero-carousel section" id="hero-carousel">
  <div class="hero-header">
    <h3 class="hero-title">Revolutionizing the Way You Invest in <span class="hero-title-nfts">NFTs</span>
      </h3>
    <p class="hero-subtitle">Using AI-Powered Stack Geeks NFTs to Monitor, Evaluate, and Predict Your NFT Portfolio with the Sentiment Precision and Insight from World investors on Twitter, Telegram, Discord and Reddit. </p>
  </div>
  <div class="allSwiper">
    <div class="carousel-container swiper-wrapper">
      {% if not profile.is_authenticated %}
        <div class="carousel carousel-stacks swiper-slide">
          <h4 class="carousel-title">üóÉÔ∏è‚ÄäWhat to do <span class="swipe-view">Swipe ‚û°Ô∏è‚Ää‚Ää</span></h4>
          <div class="swiper mySwiper">
            <div class="swiper-wrapper">
                <div class="about_container swiper-slide">   
                    <div class="card-icon">
                      <img
                        src="{% static 'images/single-create-sell-item-1.png' %}"
                        alt="wallet icon"
                      />
                    </div>
  
                    <h3 class="h3 about-card-title">1. Browse Stacks</h3>
  
                    <p class="about-card-text">
                      Explore and select a Stack that matches your capacity. Choose from a range of utility NFTs that have different capacities and support for various blockchains.
                    </p>
                </div>    
                <div class="about_container swiper-slide">   
                  <div class="card-icon">
                    <img
                      src="{% static 'images/single-create-sell-item-2.png' %}"
                      alt="wallet icon"
                    />
                  </div>

                  <h3 class="h3 about-card-title">2. Add Assets </h3>

                  <p class="about-card-text">
                    Easily add assets you want to monitor and get insights on. Stackon gathers real-time social media and market price data to predict potential floor price changes for each asset.
                  </p>
                </div>    
                <div class="about_container swiper-slide">   
                <div class="card-icon">
                  <img
                    src="{% static 'images/single-create-sell-item-3.png' %}"
                    alt="wallet icon"
                  />
                </div>

                <h3 class="h3 about-card-title">3. Get Insights</h3>

                <p class="about-card-text">
                  Receive real-time insights on the potential floor price change of added assets. Stackon processes the collected data through its algorithm to deliver valuable insights to help you make informed investment decisions.
                </p>
                </div>    
                <div class="about_container swiper-slide">   
              <div class="card-icon">
                <img
                  src="{% static 'images/single-create-sell-item-4.png' %}"
                  alt="wallet icon"
                />
              </div>

              <h3 class="h3 about-card-title">4. Monitor Portfolio </h3>

              <p class="about-card-text">
                Use Stackon as an AI advisor to monitor your NFT portfolio. With real-time insights, you can monitor the performance of your portfolio and get alerts on changes in potential floor prices of the assets you hold.
              </p>
                </div> 
            </div>  
            <div class="swiper-pagination"></div>
          </div>
        </div>  
      {% else %}    
        <div class="carousel carousel-dashboard swiper-slide">
          <h4 class="carousel-title">Dashboard</span></h4>
          <div class="equity-card">    
            <div class="equity-header">
              <h6 class="equity-subheader">Equity Value (ETH)</h6>
              <i class='bx bx-history equity-subheader'></i>
            </div>
            <h2 class="value-eth">{{ profile.equity_eth }}</h2>
            <h4 class="value-usd equity-subheader">= ${{ profile.equity_usd }}</h4>
            <div class="average-change">
              <h6 class="equity-subheader">Average Change</h6>
              <h5 class="value-average">{{ profile.equity_base }}/<span class="value-average-percent">{{ profile.equity_change }}%</span></h5>
            </div>
            <div class="equity-buttons">
              <button class="btn btn-secondary equity-button" >View Assets</button>
              <button class="btn btn-secondary equity-button">Browse Stack</button>
              <button class="btn btn-secondary equity-button">Buy NFT</button>
            </div>
          </div>
        </div>
      {% endif %}
      <div class="carousel carousel-community swiper-slide">
        <h4 class="carousel-title">üë®‚Äçüë®‚Äçüë¶‚Äçüë¶‚ÄäCommunity Enagagement <span class="swipe-view">Swipe ‚û°Ô∏è‚Ää</span></h4>
        <div class="swiper mySwiper">
          <div class="swiper-wrapper">
            {% for post in posts %}
            <div class="tweet-card swiper-slide">
              <div class="avatar">
                <img src="{% static 'images/' %}{{ post.avatar }}" alt="Avatar" />
                {% if post.social_media == "Twitter" %}
                <span class="social_media"><i class='bx bxl-twitter'></i></span>
                {% elif post.social_media == "Telegram" %}
                <span class="social_media"><i class='bx bxl-telegram' ></i></span>
                {% elif post.social_media == "Discord" %}
                <span class="social_media"><i class='bx bxl-discord-alt'></i></span>
                {% elif post.social_media == "Reddit" %}
                <span class="social_media"><i class='bx bxl-reddit'></i></span>
                {% else %}
                <span class="social_media"><i class='bx bxl-google'></i></span>
                {% endif %}  
              </div>
              <div class="tweet-content">
                <div class="tweet-header">
                  <h3 class="name">{{ post.display_name }}</h3>
                  <span class="username">{{ post.user_name }}e</span>
                  <span class="separator">¬∑</span>
                  <span class="timestamp">{{ post.timestamp }}</span>
                
                  
                  
                
                  
                </div>
                <div class="tweet-body">
                  <p>
                    {{ post.post }}
                  </p>
                </div>
                <div class="tweet-footer">
                  <button class="reply-button">
                    <i class="fa fa-reply"></i>
                    <span class="button-label">Reply</span>
                  </button>
                  
                  <button class="like-button">
                    <i class="fa fa-heart"></i>
                    <span class="button-label">Like</span>
                  </button>
                  <button class="share-button">
                    <i class="fa fa-share"></i>
                    <span class="button-label">Share</span>
                  </button>
                </div>
              </div>   
            </div>
            {% endfor %}
          </div>
          <div class="swiper-pagination"></div>
          
        </div>
      </div>
      <div class="carousel carousel-nft-items swiper-slide">       
        <div class=" swiper mySwiper">
          <div class="swiper-wrapper">
            {% for nft in nft_items %}
            <div class="swiper-slide">
              <div class="nft-image">
                <img src="{% static 'images/'%}{{ nft.nft_image }}" alt="NFT Image">
              </div>
              <div class="nft-content">
                <h3 class="nft-name">{{ nft.nft_name }}</h3>
                <p class="nft-description">{{ nft.nft_description }}</p>
                <div class="nft-sales-data">
                  <div class="nft-seller-price">
                    <img class="nft-seller" src="{% static 'images/' %}{{ nft.nft_seller }}" alt="NFT Image">
                    <p class="nft-price">{{ nft.nft_price_eth}}ETH</p>
                  </div>
                  <button class="buy-now-btn">Buy Now</button>
                </div>
              </div>
            </div>
            
            {% endfor %}
            
          </div>
          <div class="swiper-pagination"></div>
        </div>
      </div>
    </div>
  </div> 
  
  <div class="largeDevicesCarousel carousel-container ">
    {% if not profile.is_authenticated %}
      <div class="carousel carousel-stacks ">
        <h4 class="carousel-title">üóÉÔ∏è‚ÄäWhat to do <span class="swipe-view">Swipe ‚û°Ô∏è‚Ää‚Ää</span></h4>
        <div class="swiper mySwiper">
          <div class="swiper-wrapper">
            <div class="about_container swiper-slide">   
                <div class="card-icon">
                  <img
                    src="{% static 'images/single-create-sell-item-1.png' %}"
                    alt="wallet icon"
                  />
                </div>

                <h3 class="h3 about-card-title">1. Browse Stacks</h3>

                <p class="about-card-text">
                  Explore and select a Stack that matches your capacity. Choose from a range of utility NFTs that have different capacities and support for various blockchains.
                </p>
            </div>    
            <div class="about_container swiper-slide">   
              <div class="card-icon">
                <img
                  src="{% static 'images/single-create-sell-item-2.png' %}"
                  alt="wallet icon"
                />
              </div>

              <h3 class="h3 about-card-title">2. Add Assets </h3>

              <p class="about-card-text">
                Easily add assets you want to monitor and get insights on. Stackon gathers real-time social media and market price data to predict potential floor price changes for each asset.
              </p>
            </div>    
            <div class="about_container swiper-slide">   
            <div class="card-icon">
              <img
                src="{% static 'images/single-create-sell-item-3.png' %}"
                alt="wallet icon"
              />
            </div>

            <h3 class="h3 about-card-title">3. Get Insights</h3>

            <p class="about-card-text">
              Receive real-time insights on the potential floor price change of added assets. Stackon processes the collected data through its algorithm to deliver valuable insights to help you make informed investment decisions.
            </p>
            </div>    
            <div class="about_container swiper-slide">   
          <div class="card-icon">
            <img
              src="{% static 'images/single-create-sell-item-4.png' %}"
              alt="wallet icon"
            />
          </div>

          <h3 class="h3 about-card-title">4. Monitor Portfolio </h3>

          <p class="about-card-text">
            Use Stackon as an AI advisor to monitor your NFT portfolio. With real-time insights, you can monitor the performance of your portfolio and get alerts on changes in potential floor prices of the assets you hold.
          </p>
            </div> 
        </div>   
          <div class="swiper-pagination"></div>
        </div>
      </div>  
    {% else %}    
      <div class="carousel carousel-dashboard ">
        <h4 class="carousel-title">Dashboard</span></h4>
        <div class="equity-card">    
          <div class="equity-header">
            <h6 class="equity-subheader">Equity Value (ETH)</h6>
            <i class='bx bx-history equity-subheader'></i>
          </div>
          <h2 class="value-eth">{{ profile.equity_eth }}</h2>
          <h4 class="value-usd equity-subheader">= ${{ profile.equity_usd }}</h4>
          <div class="average-change">
            <h6 class="equity-subheader">Average Change</h6>
            <h5 class="value-average">{{ profile.equity_base }}/<span class="value-average-percent">{{ profile.equity_change }}%</span></h5>
          </div>
          <div class="equity-buttons">
            <button class="btn btn-secondary equity-button" >View Assets</button>
            <button class="btn btn-secondary equity-button">Browse Stack</button>
            <button class="btn btn-secondary equity-button">Buy NFT</button>
          </div>
        </div>
      </div>
    {% endif %}
    <div class="carousel carousel-community ">
      <h4 class="carousel-title">üë®‚Äçüë®‚Äçüë¶‚Äçüë¶‚ÄäCommunity Enagagement <span class="swipe-view">Swipe ‚û°Ô∏è‚Ää</span></h4>
      <div class="swiper mySwiper">
        <div class="swiper-wrapper">
          {% for post in posts %}
          <div class="tweet-card swiper-slide">
            <div class="avatar">
              <img src="{% static 'images/' %}{{ post.avatar }}" alt="Avatar" />
              {% if post.social_media == "Twitter" %}
              <span class="social_media"><i class='bx bxl-twitter'></i></span>
              {% elif post.social_media == "Telegram" %}
              <span class="social_media"><i class='bx bxl-telegram' ></i></span>
              {% elif post.social_media == "Discord" %}
              <span class="social_media"><i class='bx bxl-discord-alt'></i></span>
              {% elif post.social_media == "Reddit" %}
              <span class="social_media"><i class='bx bxl-reddit'></i></span>
              {% else %}
              <span class="social_media"><i class='bx bxl-google'></i></span>
              {% endif %}  
            </div>
            <div class="tweet-content">
              <div class="tweet-header">
                <h3 class="name">{{ post.display_name }}</h3>
                <span class="username">{{ post.user_name }}e</span>
                <span class="separator">¬∑</span>
                <span class="timestamp">{{ post.timestamp }}</span>
              
                
                
              
                
              </div>
              <div class="tweet-body">
                <p>
                  {{ post.post }}
                </p>
              </div>
              <div class="tweet-footer">
                <button class="reply-button">
                  <i class="fa fa-reply"></i>
                  <span class="button-label">Reply</span>
                </button>
                
                <button class="like-button">
                  <i class="fa fa-heart"></i>
                  <span class="button-label">Like</span>
                </button>
                <button class="share-button">
                  <i class="fa fa-share"></i>
                  <span class="button-label">Share</span>
                </button>
              </div>
            </div>   
          </div>
          {% endfor %}
        </div>
        <div class="swiper-pagination"></div>
        
      </div>
    </div>
    <div class="carousel carousel-nft-items">       
      <div class=" swiper mySwiper">
        <div class="swiper-wrapper">
          {% for nft in nft_items %}
          <div class="swiper-slide">
            <div class="nft-image">
              <img src="{% static 'images/'%}{{ nft.nft_image }}" alt="NFT Image">
            </div>
            <div class="nft-content">
              <h3 class="nft-name">{{ nft.nft_name }}</h3>
              <p class="nft-description">{{ nft.nft_description }}</p>
              <div class="nft-sales-data">
                <div class="nft-seller-price">
                  <img class="nft-seller" src="{% static 'images/' %}{{ nft.nft_seller }}" alt="NFT Image">
                  <p class="nft-price">{{ nft.nft_price_eth}}ETH</p>
                </div>
                <button class="buy-now-btn">Buy Now</button>
              </div>
            </div>
          </div>
          
          {% endfor %}
          
        </div>
        <div class="swiper-pagination"></div>
      </div>
    </div>
    
  </div>
</section>



{% block content %}
{% load static %}


<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stackon Pro</title>
    <!---===============  FAVICON =======================  -->
    <link rel="shortcut icon" href="{% static '/images/logo.ico' %}" type="image/x-icon" />
    <!--- ============== CUSTOM CSS LINK ==================  -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
    
    <!-- =============== SWIPER CSS LINK =================== -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"
    />
    <!--=============== BOXICONS ===============-->
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <!--- =============== GOOGLE FONT LINK ================== -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    
    

    <script src="{% static 'js/jquery.min.js' %}"></script>
    <script src="https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.js"></script>
    <!-- or -->
    <script src="https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.min.js"></script>
    <script src="{% static 'js/isotope.pkgd.js' %}"></script>
    <script src="{% static 'js/isotope.pkgd.min.js' %}"></script>
    <script>
      if (window.history.replaceState) {
        window.history.replaceState(null, null, window.location.href);
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@metamask/detect-provider"></script>
    
  </head>
  <body id="top">
<!-- =================== HEADER ===================================== -->
<header class="header" id="header">
  <div class="banner">
    <div class="banner-container">
      {% for asset in assets%}
      <h5 class="banner_asset">{{asset.name }}:</h5>
      {% if asset.next_1d_percent >= 0.0 %}
      <h5 class="banner_asset_increase pos">+{{ asset.next_1d_percent }}%</h5>
      {% elif asset.next_1d_percent <= 0.0 %}
      <h5 class="banner_asset_increase neg">{{ asset.next_1d_percent }}%</h5>
      {% else %}
      <h5 class="banner_asset_increase neu">{{ asset.next_1d_percent }}%</h5>
      {% endif %}    
      {%endfor%}
    </div>
  </div>
  <div class="nav">
    <div class="header-left">
      <a href="/" class="logo header-item">
        <img src="{% static 'images/stackon-logo.png' %}" alt="Stackon logo" />
      </a>
      <div class="header-menu">
        <a href="/stacks" class="header-menu-item">My Stack</a>
        <a href="/storefront" class="header-menu-item">Storefront</a>
        <a href="/assets" class="header-menu-item">My NFTs</a>
        <a href="/lives" class="header-menu-item">Livestreams</a>
        <a href="/community" class="header-menu-item">Community</a>
        
      </div>
    </div>
    
    <div class="header-right">
      <div class="switch">
        <div>Stackon Pro</div>
        <label class="toggle-container">
            <input type="checkbox" id="toggle-checkbox">
            <span class="toggle-slider"></span>
        </label>
      </div>
      {% if not user.is_authenticated %}
      
      <button id="auth-button" class="btn btn-secondary header-item">Connect Wallet</button>
 
      <div class="header-others">
        <i class='bx bx-search searchicon header-item'></i>
        <i class="bx bx-moon change-theme header-item" id="theme-button"></i>
        <span class="english">English<i class='bx bxs-down-arrow' ></i></span>
        <span class="usd_format">
          <i class='bx bxs-badge-dollar header-item'>USD<i class='bx bxs-down-arrow' ></i></i>          
        </span>
      </div>
      
      {% else %}
      <div class="profile-picture">
        <img src="{% static 'images/' %}{{ profile.wallet_avatar }}" alt="Avatar">
      </div>
      <div class="wallet-id">
        <label for="wallet-id">Wallet ID:</label>
        <p id="wallet-id">{{ user_short }}...</p>
      </div>
      <div class="header-others">
        <i class='bx bx-search searchicon header-item'></i>
        <i class="bx bx-moon change-theme header-item" id="theme-button"></i>
        <span class="english">English<i class='bx bxs-down-arrow' ></i></span>
        <span class="usd_format">
          <i class='bx bxs-badge-dollar header-item'>USD<i class='bx bxs-down-arrow' ></i></i>          
        </span>
      </div>   
      {% endif %}
    </div>
    
    <div class="small-screen-toggle">
      <i class='bx bx-menu'></i>
    </div>
    <div class="small-screen-menu">
      <div class="small-screen-toggle remove-menu-bar" >
        <i class='bx bx-x' ></i>
      </div>
      {% if user.is_authenticated %}
      <div class="profile-picture-small-menu profile-picture">
        <img src="{% static 'images/' %}{{ profile.wallet_avatar }}" alt="Profile Picture">
        <div class="wallet-id">
        
          <label for="wallet-id">Wallet ID:</label>
          <p id="wallet-id">{{profile.wallet_id}}</p>
        </div>
      </div>
      
      {% endif %}
      <div class="header-others">
        
        <i class="bx bx-moon change-theme header-item" id="theme-button"></i>
        <span class="english">English<i class='bx bxs-down-arrow' ></i></span>
        <span class="usd_format">
          <i class='bx bxs-badge-dollar header-item'>USD<i class='bx bxs-down-arrow' ></i></i>          
        </span>
      </div>
      <div class="header-menu-small">
        <h3 href="/stacks" class="header-menu-item-small">My Stack</h3>
        <h3 href="/storefront" class="header-menu-item-small">Storefront</h3>
        <h3 href="/assets" class="header-menu-item-small">My NFTs</h3>
        <h3 href="/lives" class="header-menu-item-small">Livestreams</h3>
        <h3 href="/community" class="header-menu-item-small">Community</h3>
        
      </div>

    </div>
    
    
  </div>
  <!-- Theme Change Button-->
</header>

<!-- ================== MAIN SECTION ================================ -->
    <main>
      <!-- ===================== HERO CAROUSEL SECTION ============== -->
      <section class="hero-carousel section" id="hero-carousel">
        <div class="hero-header">
          <h3 class="hero-title">Revolutionizing the Way You Invest in <span class="hero-title-nfts">NFTs</span>
            </h3>
          <p class="hero-subtitle">Using AI-Powered Stack Geeks NFTs to Monitor, Evaluate, and Predict Your NFT Portfolio with the Sentiment Precision and Insight from World investors on Twitter, Telegram, Discord and Reddit. </p>
        </div>
        <div class="allSwiper">
          <div class="carousel-container swiper-wrapper">
            {% if not user.is_authenticated %}
              <div class="carousel carousel-stacks swiper-slide">
                <h4 class="carousel-title">üóÉÔ∏è‚ÄäWhat to do <span class="swipe-view">Swipe ‚û°Ô∏è‚Ää‚Ää</span></h4>
                <div class="swiper mySwiper">
                  <div class="swiper-wrapper">
                      <div class="about_container swiper-slide">   
                          <div class="card-icon">
                            <img
                              src="{% static 'images/single-create-sell-item-1.png' %}"
                              alt="wallet icon"
                            />
                          </div>
        
                          <h3 class="h3 about-card-title">1. Browse Stacks</h3>
        
                          <p class="about-card-text">
                            Explore and select a Stack that matches your capacity. Choose from a range of utility NFTs that have different capacities and support for various blockchains.
                          </p>
                      </div>    
                      <div class="about_container swiper-slide">   
                        <div class="card-icon">
                          <img
                            src="{% static 'images/single-create-sell-item-2.png' %}"
                            alt="wallet icon"
                          />
                        </div>
      
                        <h3 class="h3 about-card-title">2. Add Assets </h3>
      
                        <p class="about-card-text">
                          Easily add assets you want to monitor and get insights on. Stackon gathers real-time social media and market price data to predict potential floor price changes for each asset.
                        </p>
                      </div>    
                      <div class="about_container swiper-slide">   
                      <div class="card-icon">
                        <img
                          src="{% static 'images/single-create-sell-item-3.png' %}"
                          alt="wallet icon"
                        />
                      </div>
      
                      <h3 class="h3 about-card-title">3. Get Insights</h3>
      
                      <p class="about-card-text">
                        Receive real-time insights on the potential floor price change of added assets. Stackon processes the collected data through its algorithm to deliver valuable insights to help you make informed investment decisions.
                      </p>
                      </div>    
                      <div class="about_container swiper-slide">   
                    <div class="card-icon">
                      <img
                        src="{% static 'images/single-create-sell-item-4.png' %}"
                        alt="wallet icon"
                      />
                    </div>
      
                    <h3 class="h3 about-card-title">4. Monitor Portfolio </h3>
      
                    <p class="about-card-text">
                      Use Stackon as an AI advisor to monitor your NFT portfolio. With real-time insights, you can monitor the performance of your portfolio and get alerts on changes in potential floor prices of the assets you hold.
                    </p>
                      </div> 
                  </div>  
                  <div class="swiper-pagination"></div>
                </div>
              </div>  
            {% else %}    
              <div class="carousel carousel-dashboard swiper-slide">
                <h4 class="carousel-title">Dashboard</span></h4>
                <div class="equity-card">    
                  <div class="equity-header">
                    <h6 class="equity-subheader">Equity Value (ETH)</h6>
                    <i class='bx bx-history equity-subheader'></i>
                  </div>
                  <h2 class="value-eth">{{ profile.equity_eth }}</h2>
                  <h4 class="value-usd equity-subheader">= ${{ profile.equity_usd }}</h4>
                  <div class="average-change">
                    <h6 class="equity-subheader">Average Change</h6>
                    <h5 class="value-average">{{ profile.equity_base }}/<span class="value-average-percent">{{ profile.equity_change }}%</span></h5>
                  </div>
                  <div class="equity-buttons">
                    <button class="btn btn-secondary equity-button" >View Assets</button>
                    <button class="btn btn-secondary equity-button">Browse Stack</button>
                    <button class="btn btn-secondary equity-button">Buy NFT</button>
                  </div>
                </div>
              </div>
            {% endif %}
            <div class="carousel carousel-community swiper-slide">
              <h4 class="carousel-title">üë®‚Äçüë®‚Äçüë¶‚Äçüë¶‚ÄäCommunity Enagagement <span class="swipe-view">Swipe ‚û°Ô∏è‚Ää</span></h4>
              <div class="swiper mySwiper">
                <div class="swiper-wrapper">
                  {% for post in posts %}
                  <div class="tweet-card swiper-slide">
                    <div class="avatar">
                      <img src="{% static 'images/' %}{{ post.avatar }}" alt="Avatar" />
                      {% if post.social_media == "Twitter" %}
                      <span class="social_media"><i class='bx bxl-twitter'></i></span>
                      {% elif post.social_media == "Telegram" %}
                      <span class="social_media"><i class='bx bxl-telegram' ></i></span>
                      {% elif post.social_media == "Discord" %}
                      <span class="social_media"><i class='bx bxl-discord-alt'></i></span>
                      {% elif post.social_media == "Reddit" %}
                      <span class="social_media"><i class='bx bxl-reddit'></i></span>
                      {% else %}
                      <span class="social_media"><i class='bx bxl-google'></i></span>
                      {% endif %}  
                    </div>
                    <div class="tweet-content">
                      <div class="tweet-header">
                        <h3 class="name">{{ post.display_name }}</h3>
                        <span class="username">{{ post.user_name }}e</span>
                        <span class="separator">¬∑</span>
                        <span class="timestamp">{{ post.timestamp }}</span>
                      
                        
                        
                      
                        
                      </div>
                      <div class="tweet-body">
                        <p>
                          {{ post.post }}
                        </p>
                      </div>
                      <div class="tweet-footer">
                        <button class="reply-button">
                          <i class="fa fa-reply"></i>
                          <span class="button-label">Reply</span>
                        </button>
                        
                        <button class="like-button">
                          <i class="fa fa-heart"></i>
                          <span class="button-label">Like</span>
                        </button>
                        <button class="share-button">
                          <i class="fa fa-share"></i>
                          <span class="button-label">Share</span>
                        </button>
                      </div>
                    </div>   
                  </div>
                  {% endfor %}
                </div>
                <div class="swiper-pagination"></div>
                
              </div>
            </div>
            <div class="carousel carousel-nft-items swiper-slide">       
              <div class=" swiper mySwiper">
                <div class="swiper-wrapper">
                  {% for nft in nft_items %}
                  <div class="swiper-slide">
                    <div class="nft-image">
                      <img src="{% static 'images/'%}{{ nft.nft_image }}" alt="NFT Image">
                    </div>
                    <div class="nft-content">
                      <h3 class="nft-name">{{ nft.nft_name }}</h3>
                      <p class="nft-description">{{ nft.nft_description }}</p>
                      <div class="nft-sales-data">
                        <div class="nft-seller-price">
                          <img class="nft-seller" src="{% static 'images/' %}{{ nft.nft_seller }}" alt="NFT Image">
                          <p class="nft-price">{{ nft.nft_price_eth}}ETH</p>
                        </div>
                        <button class="buy-now-btn">Buy Now</button>
                      </div>
                    </div>
                  </div>
                  
                  {% endfor %}
                  
                </div>
                <div class="swiper-pagination"></div>
              </div>
            </div>
          </div>
        </div> 
        
        <div class="largeDevicesCarousel carousel-container ">
          {% if not user.is_authenticated %}
            <div class="carousel carousel-stacks ">
              <h4 class="carousel-title">üóÉÔ∏è‚ÄäWhat to do <span class="swipe-view">Swipe ‚û°Ô∏è‚Ää‚Ää</span></h4>
              <div class="swiper mySwiper">
                <div class="swiper-wrapper">
                  <div class="about_container swiper-slide">   
                      <div class="card-icon">
                        <img
                          src="{% static 'images/single-create-sell-item-1.png' %}"
                          alt="wallet icon"
                        />
                      </div>
      
                      <h3 class="h3 about-card-title">1. Browse Stacks</h3>
      
                      <p class="about-card-text">
                        Explore and select a Stack that matches your capacity. Choose from a range of utility NFTs that have different capacities and support for various blockchains.
                      </p>
                  </div>    
                  <div class="about_container swiper-slide">   
                    <div class="card-icon">
                      <img
                        src="{% static 'images/single-create-sell-item-2.png' %}"
                        alt="wallet icon"
                      />
                    </div>
      
                    <h3 class="h3 about-card-title">2. Add Assets </h3>
      
                    <p class="about-card-text">
                      Easily add assets you want to monitor and get insights on. Stackon gathers real-time social media and market price data to predict potential floor price changes for each asset.
                    </p>
                  </div>    
                  <div class="about_container swiper-slide">   
                  <div class="card-icon">
                    <img
                      src="{% static 'images/single-create-sell-item-3.png' %}"
                      alt="wallet icon"
                    />
                  </div>
      
                  <h3 class="h3 about-card-title">3. Get Insights</h3>
      
                  <p class="about-card-text">
                    Receive real-time insights on the potential floor price change of added assets. Stackon processes the collected data through its algorithm to deliver valuable insights to help you make informed investment decisions.
                  </p>
                  </div>    
                  <div class="about_container swiper-slide">   
                <div class="card-icon">
                  <img
                    src="{% static 'images/single-create-sell-item-4.png' %}"
                    alt="wallet icon"
                  />
                </div>
      
                <h3 class="h3 about-card-title">4. Monitor Portfolio </h3>
      
                <p class="about-card-text">
                  Use Stackon as an AI advisor to monitor your NFT portfolio. With real-time insights, you can monitor the performance of your portfolio and get alerts on changes in potential floor prices of the assets you hold.
                </p>
                  </div> 
              </div>   
                <div class="swiper-pagination"></div>
              </div>
            </div>  
          {% else %}    
            <div class="carousel carousel-dashboard ">
              <h4 class="carousel-title">Dashboard</span></h4>
              <div class="equity-card">    
                <div class="equity-header">
                  <h6 class="equity-subheader">Equity Value (ETH)</h6>
                  <i class='bx bx-history equity-subheader'></i>
                </div>
                <h2 class="value-eth">{{ profile.equity_eth }}</h2>
                <h4 class="value-usd equity-subheader">= ${{ profile.equity_usd }}</h4>
                <div class="average-change">
                  <h6 class="equity-subheader">Average Change</h6>
                  <h5 class="value-average">{{ profile.equity_base }}/<span class="value-average-percent">{{ profile.equity_change }}%</span></h5>
                </div>
                <div class="equity-buttons">
                  <button class="btn btn-secondary equity-button" >View Assets</button>
                  <button class="btn btn-secondary equity-button">Browse Stack</button>
                  <button class="btn btn-secondary equity-button">Buy NFT</button>
                </div>
              </div>
            </div>
          {% endif %}
          <div class="carousel carousel-community ">
            <h4 class="carousel-title">üë®‚Äçüë®‚Äçüë¶‚Äçüë¶‚ÄäCommunity Enagagement <span class="swipe-view">Swipe ‚û°Ô∏è‚Ää</span></h4>
            <div class="swiper mySwiper">
              <div class="swiper-wrapper">
                {% for post in posts %}
                <div class="tweet-card swiper-slide">
                  <div class="avatar">
                    <img src="{% static 'images/' %}{{ post.avatar }}" alt="Avatar" />
                    {% if post.social_media == "Twitter" %}
                    <span class="social_media"><i class='bx bxl-twitter'></i></span>
                    {% elif post.social_media == "Telegram" %}
                    <span class="social_media"><i class='bx bxl-telegram' ></i></span>
                    {% elif post.social_media == "Discord" %}
                    <span class="social_media"><i class='bx bxl-discord-alt'></i></span>
                    {% elif post.social_media == "Reddit" %}
                    <span class="social_media"><i class='bx bxl-reddit'></i></span>
                    {% else %}
                    <span class="social_media"><i class='bx bxl-google'></i></span>
                    {% endif %}  
                  </div>
                  <div class="tweet-content">
                    <div class="tweet-header">
                      <h3 class="name">{{ post.display_name }}</h3>
                      <span class="username">{{ post.user_name }}e</span>
                      <span class="separator">¬∑</span>
                      <span class="timestamp">{{ post.timestamp }}</span>
                    
                      
                      
                    
                      
                    </div>
                    <div class="tweet-body">
                      <p>
                        {{ post.post }}
                      </p>
                    </div>
                    <div class="tweet-footer">
                      <button class="reply-button">
                        <i class="fa fa-reply"></i>
                        <span class="button-label">Reply</span>
                      </button>
                      
                      <button class="like-button">
                        <i class="fa fa-heart"></i>
                        <span class="button-label">Like</span>
                      </button>
                      <button class="share-button">
                        <i class="fa fa-share"></i>
                        <span class="button-label">Share</span>
                      </button>
                    </div>
                  </div>   
                </div>
                {% endfor %}
              </div>
              <div class="swiper-pagination"></div>
              
            </div>
          </div>
          <div class="carousel carousel-nft-items">       
            <div class=" swiper mySwiper">
              <div class="swiper-wrapper">
                {% for nft in nft_items %}
                <div class="swiper-slide">
                  <div class="nft-image">
                    <img src="{% static 'images/'%}{{ nft.nft_image }}" alt="NFT Image">
                  </div>
                  <div class="nft-content">
                    <h3 class="nft-name">{{ nft.nft_name }}</h3>
                    <p class="nft-description">{{ nft.nft_description }}</p>
                    <div class="nft-sales-data">
                      <div class="nft-seller-price">
                        <img class="nft-seller" src="{% static 'images/' %}{{ nft.nft_seller }}" alt="NFT Image">
                        <p class="nft-price">{{ nft.nft_price_eth}}ETH</p>
                      </div>
                      <button class="buy-now-btn">Buy Now</button>
                    </div>
                  </div>
                </div>
                
                {% endfor %}
                
              </div>
              <div class="swiper-pagination"></div>
            </div>
          </div>
          
        </div>
      </section>
      
      <!-- ===================== POPULAR STACKS ===================== -->

      {% if user.is_authenticated %}
      <section class="section top-stacks">
        <div class="">
          <div class="section-header">
            <h2 class="section-title">My Stack</h2>
            <h3 class="section-subtitle">Manage your Non Fungible Assets here <br><span class="stack-power"> - Your NFT #1203 can only manage 3 assets - </span></h3>
          </div>
            <div class="vault-edit"> 
              <form id="search-form" class="search-container" action="{% url 'add_asset_to_stack' %}">
                {% csrf_token %}
                <input type="text" id="search" class="form-control" placeholder="Browse Assets to add to your Vault">
                <button class="form-control-btn" type="submit">Add Asset</button>
              </form>
              <div id="error-message"></div>
              
             
              <div class="filter-container">
                <form method="POST">
                    {% csrf_token %}
                    <button type="submit" name="button" value="1" class="filter-button {% if active_button == '1' %}active{% endif %}">1D</button>
                    <button type="submit" name="button" value="2" class="filter-button {% if active_button == '2' %}active{% endif %}">2D</button>
                    <button type="submit" name="button" value="3" class="filter-button {% if active_button == '3' %}active{% endif %}">3D</button>
                    <button type="submit" name="button" value="7" class="filter-button {% if active_button == '7' %}active{% endif %}">7D</button>
                    <button type="submit" name="button" value="14" class="filter-button {% if active_button == '14' %}active{% endif %}">14D</button>
                    <button type="submit" name="button" value="30" class="filter-button {% if active_button == '30' %}active{% endif %}">30D</button>
                </form>
              </div>
            </div>
            
            <div class="stacks_list ">
              <div class="stacks_container">        
                <div class="stacks-card">
                  
                {% if profile.active_change >= 0.0 %}
                <h5 class="stacks-card-number positive">+{{ profile.active_change }}%</h5>
                {% elif profile.active_change <= 0.0 %}
                <h5 class="stacks-card-number negative">{{ profile.active_change }}%</h5>
                {% else %}
                <h5 class="stacks-card-number neutral">{{ profile.active_change }}%</h5>
                {% endif %}

                {% if profile.stack.count == 0 %}
                <div class="empty-stack">
                  <span>No Asset in Your Stack</span>
                </div>

                {% endif %}
                
                <div class="stack-items">
                  
                  {% for asset in stack %}
                  {% if forloop.counter <= 20 %}
                  <div class="stack-item">
                    <div class="stack-item-card">
                      <div class="stack-item-head">
                          <img class="stack-avatar" src="{% static 'images/' %}{{ asset.image }}" alt="">    
                          <div class="stack-item-name">
                            <h3 class="stack-item-name">{{ asset.name }}</h3>
                            
                          </div>  
                      </div>
                      <div class="stack-item-details"> 
                        <h5 class="stack-item-volume">
                          <span class="asset-value" data-asset-id="{{ asset.id }}">{{ asset.asset_value }}</span> ETH
                          <button class="edit-asset-btn" data-asset-id="{{ asset.id }}"><i class='bx bx-edit-alt'></i></button>
                          <button class="save-asset-btn" data-asset-id="{{ asset.id }}" style="display: none;"><i class='bx bx-check'></i></button>
                        </h5>
                        <div class="stack-item-info">
                          {% if asset.active_percent >= 0.0 %}
                          <h5 class="stack-item-change positive">+{{ asset.active_percent }}%</h5>
                          {% elif asset.active_percent <= 0.0 %}
                          <h5 class="stack-item-change negative">{{ asset.active_percent }}%</h5>
                          {% else %}
                          <h5 class="stack-item-change neutral">{{ asset.active_percent }}%</h5>
                          {% endif %}
                        </div>
                      </div>
                      
                        <div class="stack-item-actions">
                          <button class="delete-asset-btn" data-asset-id="{{ asset.id }}"><i class='bx bx-x-circle'></i></button>
                        </div>
                        
                    </div>
                   
                    
                  </div>
                  {% endif %}  
                  {% endfor %}
                </div>
                <!-- <button class="place-bid-btn update-stack">Edit Assets</button> -->
              </div>
            </div>
         
              
        </div>
        </div>
      </section>
      {% endif %}
      
      <!-- ===================== NFT ITEMS ========================-->
      <section class="section stack-nft">
        <div class="section-header">
          <h2 class="section-title">Marketplace</h2>
          <h3 class="section-subtitle">Browse and Purchase any of the below NFTS.</h3>
        </div>

        <div class="nft-stack-container">
          {% for nft in nft_items %}
          <div class="nft-stack">
            <img src="{% static 'images/'%}{{ nft.nft_image }}" alt="NFT Image">
            <div class="nft-content">
              <div class="nft-sales-data">
                <div class="nft-seller-price">
                  <div class="nft-stack-name-container">
                    <h2 class="nft-stack-name">{{ nft.nft_name }}</h2>
                    <p class="nft-description">{{ nft.nft_description }}</p>
                    <div class="nft-seller-info">
                      <img class="nft-seller" src="{% static 'images/' %}{{ nft.nft_seller }}" alt="NFT Image">
                      <p class="nft-price">{{ nft.nft_price_eth}}ETH</p>
                    </div>
                  </div>
                    <button class="buy-now-btn">Buy Now</button>
                </div>
               
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
       
        
      </section>


      <!-- ===================== ASSETS TABLE ========================-->
      <section class="section assets-table" id="">
        <div class="section-header">
          <h2 class="section-title">Top Non-Fungible Assets</h2>
          <h3 class="section-subtitle">Monitor potential changes in your assets</h3>
        </div>
        <div class="table-wrapper">
            <table class="top-assets-table">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Collection</th>
                  <th>Floor Price</th>
                  <th>Volume 1D</th>
                  <th>Sentiment</th>
                  <th>Next 1D %</th>
                  <th>Next 7D %</th>
                  <th>Accuracy</th>
                  <th>Popularity Trend</th>
                </tr>
              </thead>
              <tbody>
                {% for ass in assets %}
                <tr>
                  <td>{{ ass.pk }}</td>
                  <td class="collection">
                    <img src="{% static 'images/' %}{{ ass.image }}" alt="Avatar" /></div>
                    <div>{{ ass.name }}</div>
                  </td>
                  <td class="floor-price">${{ ass.current_price }}</td>
                  <td class="volume">${{ ass.volume }}</td>
                  <!-- Sentiment -->
                  {% if ass.sentiment == 'Positive' %}
                  <td class="pos">{{ ass.sentiment }}</td>
                  {% elif ass.sentiment == 'Negative' %}
                  <td class="neg">{{ ass.sentiment }}</td>
                  {% else %}
                  <td class="neu">{{ ass.sentiment }}</td>
                  {% endif %}

                  {% if ass.next_1d_percent >= 0.0 %}
                  <td class="pos">{{ ass.next_1d_percent }}</td>
                  {% elif ass.next_1d_percent <= 0.0 %}
                  <td class="neg">{{ ass.next_1d_percent }}</td>
                  {% else %}
                  <td class="neu">{{ ass.next_1d_percent }}</td>
                  {% endif %}

                  {% if ass.next_7d_percent >= 0.0 %}
                  <td class="pos">{{ ass.next_7d_percent }}</td>
                  {% elif ass.next_7d_percent <= 0.0 %}
                  <td class="neg">{{ ass.next_7d_percent }}</td>
                  {% else %}
                  <td class="neu">{{ ass.next_7d_percent }}</td>
                  {% endif %}

                  <td class="neu">{{ ass.accuracy|floatformat:1 }}%</td>
                  <td class="trend"><img src="{% static 'images/' %}{{ ass.trend }}" alt="{{ ass.trend }}"></td>
                  
                  
                </tr>
                {% endfor %}
           
                
                
                
              </tbody>
            </table>
          </div>

      </section>

      
     
    </main>

<!-- =========================== FOOTER ============================= -->
    <footer class="footer">
      <div class="footer-container">
        <div class="footer-left footer-item">
          <div class="contact-content">
            <h3 class="contact-title">Get in Touch</h3>
            <form action="" class="contact-form">
              <div class="contact-form-div">
                <label for="" class="contact-form-tag">Names</label>
                <input
                  type="text"
                  placeholder="Insert your name"
                  class="contact-form-input"
                />
              </div>
              <div class="contact-form-div">
                <label for="" class="contact-form-tag">Mail</label>
                <input
                  type="email"
                  placeholder="Insert your email"
                  class="contact-form-input"
                />
              </div>
              <div class="contact-form-div contact-form-area">
                <label for="" class="contact-form-tag">Project</label>
                <textarea
                  name=""
                  id=""
                  cols="30"
                  rows="10"
                  placeholder="How can we help you?"
                  class="contact-form-input"
                ></textarea>
              </div>
              <button class="contact-button">Send Message</button>
            </form>
          </div>
        </div>
        <div class="footer-right footer-item">
          <h1 class="footer-title">Stackon</h1>
          <ul class="footer-list">
            <li>
              <a href="#about" class="footer-link">Top Stacks</a>
            </li>
            <li>
              <a href="#work" class="footer-link">About</a>
            </li>
            <li>
              <a href="#testimonial" class="footer-link">Contact</a>
            </li>
          </ul>
          <ul class="footer-social">
            <a
              href="https://www.instagram.com"
              target="_blank"
              class="footer-social-link"
            >
              <i class="bx bxl-instagram"></i>
            </a>
            <a
              href="https://www.twitter.com"
              target="_blank"
              class="footer-social-link"
            >
              <i class="bx bxl-twitter"></i>
            </a>
            <a
              href="https://www.linkedin.com"
              target="_blank"
              class="footer-social-link"
            >
              <i class="bx bxl-linkedin"></i>
            </a>
          </ul>
          <span class="footer-copy">
            &#169; Stackon 2023. All rights reserved.
          </span>
        </div>
        
      </div>
    </footer>

    <!--- ============== GO TO TOP ==================-->

    <a href="#top" class="go-top" data-go-top>
      <ion-icon name="arrow-up-outline"></ion-icon>
    </a>

    <!--- ======================== CUSTOM JS LINK========================== -->
    <script src="{% static 'js/script.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mixitup/3.3.1/mixitup.min.js" integrity="sha512-nKZDK+ztK6Ug+2B6DZx+QtgeyAmo9YThZob8O3xgjqhw2IVQdAITFasl/jqbyDwclMkLXFOZRiytnUrXk/PM6A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="{% static 'js/typeahead.bundle.js' %}"></script>
     <!--=============== MIXITUP FILTER ===============-->
     <script src="{% static 'js/mixitup.min.js' %}"></script>
     <!-- <script src="{% static 'js/isotope-docs.min.js' %}"></script> -->
     <script src="{% static 'js/jquery.min.js' %}"></script>
     <script src="{% static 'js/isotope.pkgd.js' %}"></script>
     <script src="{% static 'js/isotope.pkgd.min.js' %}"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.10.3/typeahead.bundle.min.js" integrity="sha512-E4rXB8fOORHVM/jZYNCX2rIY+FOvmTsWJ7OKZOG9x/0RmMAGyyzBqZG0OGKMpTyyuXVVoJsKKWYwbm7OU2klxA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.10.3/bloodhound.js" integrity="sha512-MUXDwKJLicyKwyUPcOd9hAyGHWVtyY0jOcRXWpiM4pnzaLy+OFP8gvKUphO0kIBP73zdH7uFVYmFRkbFkRbe7w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.10.3/bloodhound.min.js" integrity="sha512-EUtlYg5f2EEeLqFJLLhGybSRc3DgloT0Fe1yORZgkD4xuBmDpge7QeEiN84ph9YPmoyBAu1nPll2kQ/f4jdDHQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.10.3/typeahead.bundle.js" integrity="sha512-u9t+T+misQe2D1MANTtxl0yRGQ1BQKODwUU5Kc+57mtzdaA01cWFvBoXSsKBCQ8VCpjOku5pPzBGe+pRlJODMg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.10.3/typeahead.jquery.js" integrity="sha512-h6BgTelOAlxClugUkZwcBdOj4hzNi8+7DOMvQWuEmrUY0IO8XbAzSO22wfQSUSlFCBHy5kXfs/Cz1OiXr+LLNg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.10.3/typeahead.jquery.min.js" integrity="sha512-FoYDcEN8AC55Q46d/gra+GO1tD9Bw7ZTLBUDqaza5YQ+g2UGysVxBoVOkXB6RVVM8wFyPJxr3vcEz9wxbFKM6g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.10.3/dist/bloodhound.js" integrity="sha512-MUXDwKJLicyKwyUPcOd9hAyGHWVtyY0jOcRXWpiM4pnzaLy+OFP8gvKUphO0kIBP73zdH7uFVYmFRkbFkRbe7w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.10.3/dist/bloodhound.min.js" integrity="sha512-EUtlYg5f2EEeLqFJLLhGybSRc3DgloT0Fe1yORZgkD4xuBmDpge7QeEiN84ph9YPmoyBAu1nPll2kQ/f4jdDHQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.10.3/dist/typeahead.bundle.js" integrity="sha512-u9t+T+misQe2D1MANTtxl0yRGQ1BQKODwUU5Kc+57mtzdaA01cWFvBoXSsKBCQ8VCpjOku5pPzBGe+pRlJODMg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.10.3/dist/typeahead.bundle.min.js" integrity="sha512-E4rXB8fOORHVM/jZYNCX2rIY+FOvmTsWJ7OKZOG9x/0RmMAGyyzBqZG0OGKMpTyyuXVVoJsKKWYwbm7OU2klxA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.10.3/dist/typeahead.jquery.js" integrity="sha512-h6BgTelOAlxClugUkZwcBdOj4hzNi8+7DOMvQWuEmrUY0IO8XbAzSO22wfQSUSlFCBHy5kXfs/Cz1OiXr+LLNg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.10.3/dist/typeahead.jquery.min.js" integrity="sha512-FoYDcEN8AC55Q46d/gra+GO1tD9Bw7ZTLBUDqaza5YQ+g2UGysVxBoVOkXB6RVVM8wFyPJxr3vcEz9wxbFKM6g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.4.0/dist/web3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@metamask/detect-provider@2.0.0/dist/index.min.js"></script>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        var toggleCheckbox = document.getElementById('toggle-checkbox');
  
        toggleCheckbox.addEventListener('change', function() {
          if (toggleCheckbox.checked) {
            // Redirect to the /playground URL
            window.location.href = '/pro';
          } else {
            // Do nothing (stay on the current URL)
            window.location.href = '/playground';
          }
        });
  
        // Optionally, you can check the current URL and update the toggle state accordingly
        if (window.location.href.includes('/pro')) {
          toggleCheckbox.checked = true;
        }

        if (window.location.href.includes('/playground')) {
          toggleCheckbox.checked = false;
        }
      });
    </script>
    
    <script>
      window.ethereum.on('accountsChanged', function(accounts) {
        // Check if Metamask is available
        if (typeof window.ethereum !== 'undefined') {
              // Request the user's permission to connect the wallet
              // Get the previous accounts length from local storage
              var previousAccountsLength = localStorage.getItem('metamaskAccountsLength');
              window.ethereum.request({ method: 'eth_accounts' })
                  .then(function(accounts) {
                      // Retrieve the selected account (wallet address)
                      var walletAddress = accounts[0];
                      console.log("PREVIOUS")
                      console.log(previousAccountsLength);
                      var currentAccountsLength = accounts.length;
                      console.log("NOW")
                      console.log(currentAccountsLength);


                      if (previousAccountsLength > 0 && currentAccountsLength === 0) {
                        // Wallet was disconnected
                        window.location.href = "{% url 'disconnect' %}";
                      }

                       // Store the current accounts length in local storage
                      localStorage.setItem('metamaskAccountsLength', currentAccountsLength);
                    })
                  .catch(function(error) {
                      // Handle connection error
                      console.log(error);
                  });
          } else {
              // Metamask is not available
              console.log('Metamask is not installed');
          }
      });

    </script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
      // Get the connect button element
      var connectButton = document.getElementById('auth-button');

      // Attach a click event listener to the connect button
      connectButton.addEventListener('click', function() {
          // Check if Metamask is available
          if (typeof window.ethereum !== 'undefined') {
              // Request the user's permission to connect the wallet
              window.ethereum.request({ method: 'eth_requestAccounts' })
                  .then(function(accounts) {
                      // Retrieve the selected account (wallet address)
                      var walletAddress = accounts[0];

                      // Submit the form with the wallet address
                      var form = document.createElement('form');
                      form.method = 'POST';
                      form.action = '{% url "connect" %}';

                      var input = document.createElement('input');
                      input.type = 'hidden';
                      input.name = 'wallet_address';
                      input.value = walletAddress;

                      form.appendChild(input);
                      document.body.appendChild(form);

                      form.submit();
                      var currentAccountsLength = accounts.length;
                      localStorage.setItem('metamaskAccountsLength', currentAccountsLength);
                  })
                  .catch(function(error) {
                      // Handle connection error
                      console.log(error);
                  });
          } else {
              // Metamask is not available
              console.log('Metamask is not installed');
          }
      });
  });

    </script>

    <script>
      const toggleButton = document.querySelector(".small-screen-toggle");
      const menuBar = document.querySelector(".small-screen-menu");
      const removeMenuBar = document.querySelector(".remove-menu-bar");

      toggleButton.addEventListener("click", function () {
        if (menuBar.classList.contains("active")) {
          menuBar.classList.remove("active");
        } else {
          menuBar.classList.add("active");
        }
      });

      
      removeMenuBar.addEventListener("click", function () {
        menuBar.classList.remove("active");
      });

    </script>
    <script>
      $(document).ready(function() {
      $('.edit-asset-btn').on('click', function() {
        var assetId = $(this).data('asset-id');
        var assetValueElement = $('.asset-value[data-asset-id="' + assetId + '"]');
        var saveButton = $('.save-asset-btn[data-asset-id="' + assetId + '"]');
        var editButton = $('.edit-asset-btn[data-asset-id="' + assetId + '"]');

        assetValueElement.attr('contenteditable', true);
        assetValueElement.css('background-color', 'white');
        assetValueElement.css('color', 'black');
        assetValueElement.css('border', 'none');
        saveButton.show();
        editButton.hide();
      });

      $('.save-asset-btn').on('click', function() {
        var assetId = $(this).data('asset-id');
        var saveButton = $('.save-asset-btn[data-asset-id="' + assetId + '"]');
        var editButton = $('.edit-asset-btn[data-asset-id="' + assetId + '"]');
        var assetValueElement = $('.asset-value[data-asset-id="' + assetId + '"]');
        assetValueElement.css('background-color', '');
        assetValueElement.css('color', '');
        assetValueElement.css('border', '');
        saveButton.hide();
        editButton.show();
        var assetId = $(this).data('asset-id');
        var assetValueElement = $('.asset-value[data-asset-id="' + assetId + '"]');
        var editedValue = assetValueElement.text().trim();
        var originalValue = assetValueElement.data('original-value');

        if (editedValue !== originalValue) {
          $.ajax({
            url: 'update_asset_value',
            method: 'POST',
            data: { asset_id: assetId, asset_value: editedValue },
            success: function(response) {
              assetValueElement.attr('contenteditable', false);
              $('.save-asset-btn[data-asset-id="' + assetId + '"]').hide();
              // You can update the asset value in the DOM with the edited value here
            },
            error: function(xhr, status, error) {
              // Handle errors
            }
          });
        }
      });

      $('.delete-asset-btn').on('click', function() {
        var assetId = $(this).data('asset-id');
        var assetDelete = $('.delete-asset-btn[data-asset-id="' + assetId + '"]');
        $.ajax({
            url: 'delete_asset',
            method: 'POST',
            data: { asset_id: assetId},
            success: function(response) {
              $('.delete-asset-btn[data-asset-id="' + assetId + '"]').hide();
              location.reload();
              // You can update the asset value in the DOM with the edited value here
            },
            error: function(xhr, status, error) {
              // Handle errors
            }
          });
    });
  });

    </script>
      
    <script>
      $(document).ready(function() {
        // Initialize the typeahead input
        var engine = new Bloodhound({
          remote: '/search?query=%QUERY',
          datumTokenizer: Bloodhound.tokenizers.obj.whitespace('name'),
          queryTokenizer: Bloodhound.tokenizers.whitespace
        });
        engine.initialize();
        $('#search').typeahead({
          hint: true,
          highlight: true,
          minLength: 1
        }, {
          displayKey: 'name',
          source: engine.ttAdapter(),
          templates: {
            suggestion: function(data) {
              return '<div>' + data.name + '</div>';
            }
          }
        });

        // Handle the "Add Asset" button click event
        $('#search-form').on('submit', function(event) {
          event.preventDefault();
          var selectedAsset = $('#search').typeahead('val');
          $.ajax({
            url: 'add_asset_to_stack',
            type: 'POST',
            data: {
              'asset_name': selectedAsset
            },
            success: function(data) {
                if (data.success) {
                    location.reload(); // reload the page on success
                } else {
                  $('#error-message').html('Failed to add asset to stack: ' + data.message);
                }
            },
            error: function(xhr, textStatus, errorThrown) {
              $('#error-message').html('Failed to add asset to stack: ' + errorThrown);
            }
          });
        });
      });

    </script>
    <script>
      const filterButtons = document.querySelectorAll('.filter-button');
      // Get the active button value from local storage or set it to null if it doesn't exist
      let activeButton = localStorage.getItem('activeButton') || null;
      // Set the active class on the appropriate button based on the stored value
      let scrollPosition = 0; // initialize scroll position
      if (activeButton) {
          filterButtons.forEach(button => {
              if (button.value === activeButton) {
                  button.classList.add('active');
                  
              }
          });
      }

      // Add event listener to each filter button
      filterButtons.forEach(button => {
          button.addEventListener('click', () => {
              // Set the active class on the clicked button and remove it from all other buttons
              filterButtons.forEach(button => {
                  button.classList.remove('active');
              });
              button.classList.add('active');
              // Update the stored active button value
              activeButton = button.value;
              localStorage.setItem('activeButton', activeButton);
              // Submit the form and reload the page
              // Get the current scroll position before the page reloads
              // scrollPosition = window.scrollY;
              button.form.submit();
              // location.reload()
          });
      });

      // Set the scroll position after the page reloads
      window.onload = function() {
        window.scrollTo(0, scrollPosition);
      };


    </script>
    <script>
      var swiper = new Swiper(".mySwiper", {
        spaceBetween: 30,
        centeredSlides: true,
        autoplay: {
          delay: 2500,
          disableOnInteraction: false,
        },
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },

      });

     
      var allswiper = new Swiper(".allSwiper", {
        spaceBetween: 30,
        centeredSlides: true,
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
      });
        
    </script>

   


    <!---======================= ICON LINK ========================= -->
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mixitup/3.3.1/mixitup.min.js" integrity="sha512-nKZDK+ztK6Ug+2B6DZx+QtgeyAmo9YThZob8O3xgjqhw2IVQdAITFasl/jqbyDwclMkLXFOZRiytnUrXk/PM6A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</body>
</html>
{% endblock content %}